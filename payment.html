<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Page</title>
    <link rel="stylesheet" href="payment.css">
    <script>
        function validateForm() {
            var firstName = document.getElementById("first_name").value;
            var lastName = document.getElementById("last_name").value;
            var cardNumber = document.getElementById("card_number").value;
            var expirationMonth = document.getElementById("expiration_month").value;
            var expirationYear = document.getElementById("expiration_year").value;
            var email = document.getElementById("email").value;

            // Validate first name
            if (!(/^[a-zA-Z\s]+$/.test(firstName))) {
                alert("Please enter a valid first name (letters and spaces only).");
                return false;
            }

            // Validate last name
            if (!(/^[a-zA-Z\s]+$/.test(lastName))) {
                alert("Please enter a valid last name (letters and spaces only).");
                return false;
            }

            // Validate card number
            if (!(/^\d{16}$/.test(cardNumber))) {
                alert("Please enter a 16-digit card number.");
                return false;
            }

            // Validate expiration date
            if (expirationMonth === "" || expirationYear === "") {
                alert("Please select both the expiration month and year.");
                return false;
            }

            // Validate email
            if (!(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email))) {
                alert("Please enter a valid email address.");
                return false;
            }

            return true;
        }

        function limitCardNumberLength() {
            var cardNumber = document.getElementById("card_number");
            if (cardNumber.value.length > 19) {
                cardNumber.value = cardNumber.value.slice(0, 19);
            }
        }
    </script>
</head>
<body>
    <h1>Payment Details</h1>
    <form action="process_payment.php" method="post" onsubmit="return validateForm()">
        <div class="form-group">
            <label for="first_name">First Name:</label>
            <input type="text" id="first_name" name="first_name" pattern="[A-Za-z\s]+" title="Please enter letters and spaces only." required>
        </div>
        <div class="form-group">
            <label for="last_name">Last Name:</label>
            <input type="text" id="last_name" name="last_name" pattern="[A-Za-z\s]+" title="Please enter letters and spaces only." required>
        </div>
        <div class="form-group">
            <label for="card_number">Card Number:</label>
            <input type="text" id="card_number" name="card_number" pattern="\d{4}-\d{4}-\d{4}-\d{4}" title="Please enter a 16-digit card number in the format xxxx-xxxx-xxxx-xxxx." required oninput="limitCardNumberLength()">
        </div>
        <div class="form-group">
            <label>Expiration Date:</label>
            <select id="expiration_month" name="expiration_month" required>
                <option value="">Month</option>
                <option value="01">01</option>
                <option value="02">02</option>
                <option value="03">03</option>
                <!-- Add other months here -->
            </select>
            <select id="expiration_year" name="expiration_year" required>
                <option value="">Year</option>
                <option value="2022">2022</option>
                <option value="2023">2023</option>
                <option value="2024">2024</option>
                <!-- Add other years here -->
            </select>
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
        </div>
        <a href="thank_you.html" class="place-order-button">Place Order</a>
    </form>
</body>
</html>
